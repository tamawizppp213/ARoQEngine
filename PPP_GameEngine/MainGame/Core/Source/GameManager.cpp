//////////////////////////////////////////////////////////////////////////////////
//              @file   GameManager.cpp
///             @brief  game manager class
///             @author Toide Yutaro
///             @date   2022_04_23
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
//                             Include
//////////////////////////////////////////////////////////////////////////////////
#include "MainGame/Core/Include/GameManager.hpp"
#include "GameCore/Core/Include/GameObject.hpp"
#include "GameCore/Core/Include/ResourceManager.hpp"
//////////////////////////////////////////////////////////////////////////////////
//                              Define
//////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////
//                              Implement
//////////////////////////////////////////////////////////////////////////////////
void GameManager::GameStart(GameTimer& gameTimer, HWND hwnd)
{
	_mainWindow = hwnd;
	_engine.StartUp(hwnd);

	_sceneManager.StartUp(&gameTimer);
}

void GameManager::GameMain()
{
	_sceneManager.CallSceneUpdate();
	_sceneManager.CallSceneDraw();
}

void GameManager::GameEnd()
{
	_sceneManager.CallSceneTerminate();
	_sceneManager.ShutDown();
	ResourceManager::Instance().ClearAllResources();
	GameObject::ClearAllGameObjects();
	_engine.ShutDown();
}

void GameManager::SetHWND(HWND hwnd)
{
	_mainWindow = hwnd;
}